<li class="mb-middle js-object-item">
    <div class="split-box m-none">
        <div class="ctrl-box">
            <label class="inp-name">Имя</label>
            <input type="text" name="form[name][<?= @$param['key']?>]" value="<?= @$param['value']['name']; ?>" class="inp first" data-validate="empty"/>
        </div>
        <div class="ctrl-box">
            <label class="inp-name">Код</label>
            <input type="text" name="form[code][<?= @$param['key']?>]" value="<?= @$param['value']['code']; ?>" class="inp" data-validate="empty,latin"/>
        </div>
        <div class="ctrl-box object-type">
            <label class="inp-name">Тип</label>
            <select name="form[type][<?= @$param['key']?>]" class="js-type ctrl-select" watch="objectType">
                <?
                    foreach($param['manifest']['gist'] as $k => $v){
                        $selected = (isset($param['value']) && $param['value']['type'] == $k) ? ' selected="true"' : '';
                        echo '<option'.$selected.' value="'.$k.'">'.$v['name'].'</option>';
                    }
                ?>
            </select>
        </div>
        <div class="ctrl-box">
            <label class="inp-name">&#160;</label>
            <div class="btn js-showSetting">
                <span class="btn-in">
                    <i class="icon-cog"></i>
                </span>
            </div>
        </div>
        <div class="ctrl-box">
            <label class="inp-name">&#160;</label>
            <span class="btn last js-removeItem">
                <span class="btn-in">
                    <i class="icon-cancel f_gigant"></i>
                </span>
            </span>
        </div>
    </div>
    
    <div class="js-setting dn">


        <?
            if(isset($paramObjectItem)){
                $gist = (isset($param['value']['type'])) ? $param['manifest']['gist'][$param['value']['type']] : $param['manifest']['gist']['string'];

                foreach($gist['param'] as $v){

                    $paramGIST = array();
                    if(isset($param['value']) && isset($param['value']['param'])){
                        $paramGIST = json_decode($param['value']['param'], true);
                    }

                    echo $param['io']->buffer(sys . '/template/tpl/gist-param/' . $v . '.html', array(
                        'key' => $param['key'],
                        'gist' => $paramGIST,
                        'manifest' => $manifest
                    ));
                }
            }
        ?>
        
    </div>
    <? if(isset($paramObjectItem)): ?>
        <input type="hidden" name="form[id][]" value="<?= @$param['value']['id']; ?>"/>
    <? endif; ?>
</li>